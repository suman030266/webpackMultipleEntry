!function e(t,n){if("object"===typeof exports&&"object"===typeof module)module.exports=n();else if("function"===typeof define&&define.amd)define([],n);else if("object"===typeof exports)exports["$g"]=n();else t["$g"]=n()}(this,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:false};e[r].call(i.exports,i,i.exports,n);i.loaded=true;return i.exports}n.m=e;n.c=t;n.p="";return n(0)}([function(t,n,r){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();r(1);r(71);var o=r(77);var s=_(o);var a=r(78);var u=_(a);var c=r(79);var f=r(80);var l=_(f);var v=r(81);var p=_(v);var d=r(82);var h=_(d);var m=r(83);var g=_(m);var y=r(84);var w=_(y);function _(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e)e.apply(void 0,r);if(t)t.apply(void 0,r)}var O=function(){function e(){b(this,e)}i(e,[{key:"_setBridge",value:function e(t){this._bridge=t}},{key:"send",value:function e(t,n){return new Promise(function(e,r){if("undefined"==typeof n&&"undefined"!=typeof t){n=t;if("string"==typeof n){throw new Error("消息体必须是json对象而不是json字符串");return}if(c.system.ios)this._bridge.callHandler("send",JSON.stringify(n));else if(c.system.android)this._bridge.send(JSON.stringify(n))}if("string"==typeof t&&"undefined"!=typeof n){if("string"==typeof n){throw new Error("消息体必须是json对象而不是json字符串");return}if(c.system.ios)this._bridge.callHandler(t,JSON.stringify(n));else if(c.system.android)this._bridge.send(t,JSON.stringify(n))}e()}.bind(this))}}]);return e}();var P=function(){function t(){b(this,t);this._userInfo=null;this.Promise=Promise;this.http=h.default;this.cookie=l.default;this.query=p.default;this.env=c.env;this.system=c.system;this.host=w.default;this.emit=u.default.emit;this.emitDOM=u.default.emitDOM;this.on=u.default.on;this.off=u.default.off;this.deprecated=new O}i(t,[{key:"mixin",value:function e(t,n){for(var r in n)if("undefined"==typeof t[r])t[r]=n[r];return t}},{key:"back",value:function e(t,n,r){return Promise.resolve(new Promise(function(e,i){if(!c.env.hybrid){window.location.back();x(n,e)}else if(c.env.hybrid||c.env.dev)navigator.gome.util.nativeUtils.nativeFinish(function(){x(n,e)},function(){x(r,e)},t||{})}))}},{key:"getAddress",value:function e(t,n,r){return Promise.resolve(new Promise(function(e,t){if(c.env.hybrid)navigator.gome.util.nativeUtils.getAddressFourArea(function(t){t="string"===typeof t?JSON.parse(t):t;for(var r in t)t[r]="string"==typeof t[r]?JSON.parse(t[r]):t[r];x(n,e,t)},function(){x(r,t,new Error("获取四级地址失败"))});else if(!c.env.hybrid){var i=l.default.parse();var o=p.default.parse(window.location.search);if(o.cityjson){o.cityjson=JSON.parse(decodeURIComponent(o.cityjson));var s={province:{code:o.cityjson.cityId,name:o.cityjson.cityName},city:{code:o.cityjson.cityId,name:o.cityjson.cityName},district:{code:o.cityjson.districtId,name:o.cityjson.districtName},town:{code:o.cityjson.townId,name:o.cityjson.townName}};x(n,e,s)}else if(i.gps_cityid){var a={province:{code:i["gps_provinceid"]},city:{code:i["gps_cityid"]},district:{code:i["gps_districtid"]},town:{code:i["gps_townid"]}};x(n,e,a)}else{var u={province:{name:"北京",code:"13000000"},city:{name:"北京市",code:"13020000"},district:{name:"朝阳区(五环里)",code:"11010200"},town:{name:"全部区域",code:"110102001"}};x(n,e,u)}}else x(r,t,new Error("获取四级地址失败"))}))}},{key:"getEnv",value:function e(t,n){return Promise.resolve(new Promise(function(e,n){if(c.env.hybrid)navigator.gome.util.nativeUtils.getAppEnvironment(function(n){n="string"==typeof n?JSON.parse(n):n;n.environment=n.environment.toLowerCase();x(t,e,n)});else if(c.env.live)x(t,e,{environment:"pro"});else x(t,e,{environment:"uat"})}))}},{key:"getUserInfo",value:function e(t,n){var r=this;return Promise.resolve(new Promise(function(e,i){if(c.env.hybrid){if(c.env.gome||c.env.gomeplus&&!c.env.plusWebview)navigator.gome.util.nativeUtils.isLogin(function(r){r="string"==typeof r?JSON.parse(r):r;if("Y"==r.isLogin)navigator.gome.util.nativeUtils.getUserInfo(function(n){n="string"==typeof n?JSON.parse(n):n;x(t,e,n,false)},function(){x(n,i,new Error("获取用户信息失败"))});else x(n,i,new Error("获取用户信息失败"))},function(){x(n,i,new Error("获取用户信息失败"))});else if(c.env.gomeplus&&c.env.plusWebview)if(r._userInfo)x(t,e,r._userInfo);else x(n,i,new Error("获取用户信息失败"))}else(0,h.default)({type:"jsonp",url:w.default.m+"/active/userAgent",cb:"jsoncallback",isPostBody:"Y",isNeedLoading:"N"}).then(function(r){if("Y"==r.islogin)x(t,e,{profileId:r.uid,userName:r.loginName},false);else x(n,i,new Error("请先登录"))})}))}},{key:"getVersion",value:function e(t,n){return Promise.resolve(new Promise(function(e,n){if(g.default!=-1)x(t,e,g.default);else if(c.env.hybrid)navigator.gome.util.nativeUtils.getAppVersion(function(n){n="string"==typeof n?JSON.parse(n):n;x(t,e,parseInt(n.dev_version))});else x(t,e,g.default)}))}},{key:"getUniqueId",value:function e(t,n){return Promise.resolve(new Promise(function(e,n){if(c.env.wap)try{x(t,e,l.default.parse()["__clickidc"])}catch(n){x(t,e,"")}else if(c.env.hybrid)if(c.env.dev)x(t,e,"1234567890");else try{var r="";if(c.system.android)r=navigator.userAgent.match(/gome\/\d*\/([\w\-\d]*)\//)[1];else if(c.system.ios)r=navigator.userAgent.match(/gome\/iphone\/\d*\/([\w\-\d]*)\//)[1];x(t,e,r)}catch(n){x(t,e,"")}}))}},{key:"http0",value:function t(n,r,i){var o=this;return Promise.resolve(new Promise(function(t,s){if(c.env.hybrid){n.type=n.type.toUpperCase();navigator.gome.util.nativeRequest.sendNativeLayoutRequest(function(n){if("string"==typeof n)n=n.replace(/\n/g,"");n="string"===typeof n?JSON.parse(n):n;if(n.isSuccess)if("N"==n.isSuccess)x(i,s,new Error(e.failReason||"请求失败"));else x(r,t,n);else x(r,t,n)},function(e){try{e="string"===typeof e?JSON.parse(e):e;x(i,s,new Error(e.failReason||"请求失败"))}catch(e){x(i,s,new Error("请求失败"))}},o.mixin(n,{param:n.data,isNeedLoading:"Y"}))}else{n.data.keyProms=document.querySelector("input#keyProms").value;n.type="jsonp";(0,h.default)(o.mixin(n,{param:n.data,isNeedLoading:"Y"})).then(function(e){x(r,t,e)}).catch(function(){x(i,s,new Error("请求失败"))})}}))}},{key:"login",value:function e(t,n,r){var i=this;return Promise.resolve(new Promise(function(e,o){if(!c.env.app&&c.env.wap)window.location.href=i.host.m+"/login.html?return_url="+s.default.encode(window.location.href);else if(c.env.app)if(c.env.hybrid)navigator.gome.app.nativeLogin.jumpToNativeLogin(function(t){t="string"===typeof t?JSON.parse(t):t;if("Y"==t.jumpToNativeLogin)x(n,e);else x(r,o)},function(){x(r,o)});else if(c.env.gome||c.env.gomeplus&&!c.env.plusWebview){if(!window.location.href.match(/nlg\=1/))window.location.href=window.location.origin+window.location.pathname+"?nlg=1";x(n,e)}else if(c.env.gomeplus&&c.env.plusWebview)window.AppInterface.call("/common/login",{type:t?t.type||"":"",activityId:t?t.activityId||"":"",channelId:t?t.channelId||"":""},function(t){t="string"===typeof t?JSON.parse(t):t;if(true==t.success){i._userInfo=t.data;x(n,e,t.data)}else x(r,o,new Error("登录失败"))})}))}},{key:"logout",value:function e(t,n){return Promise.resolve(new Promise(function(e,n){if(c.env.wap)window.location.href=w.default.m+"/index.php?ctl=ucenter&act=loginOut";else if(c.env.app)if(c.env.hybrid)navigator.gome.app.nativeLogin.jumpToNativeLogout(function(n){n="string"===typeof n?JSON.parse(n):n;x(t,e)},function(){x(t,n,new Error("登出失败"))});else{console.warn("bridge没有登出的方法");x(t,e)}}))}},{key:"maima",value:function e(t,n){var r=this;return Promise.resolve(new Promise(function(e,n){if(c.env.hybrid)r.getVersion().then(function(n){if(n>=60){navigator.gome.util.nativeUtils.getMeasure(opt);e(t,e)}else{navigator.gome.util.nativeUtils.getMeasure(opt.pageName);e(t,e)}});else x(t,e)}))}},{key:"ready",value:function e(t,n){var r=this;if(c.env.dev&&window.components&&components.Config){c.env.wap=components.Config.platform.wap;c.env.app=components.Config.platform.app;c.env.live=components.Config.platform.live;c.env.uat=components.Config.platform.uat;c.env.tslive=components.Config.platform.tslive}return Promise.resolve(new Promise(function(e,i){if(c.env.hybrid)document.addEventListener("deviceready",function(){x(t,e)});else if(c.env.app&&!c.env.plusWebview){if(c.env.dev)x(t,e);if(c.system.android){var o=0;var s=setInterval(function(){if(window.bridge){r.deprecated._setBridge(bridge);x(t,e);clearInterval(s)}if(100==o){i(new Error("10秒内bridge未初始化成功"));clearInterval(s)}o++},100)}else if(c.system.ios){var a=function e(t){if(window.WebViewJavascriptBridge)t(WebViewJavascriptBridge);else document.addEventListener("WebViewJavascriptBridgeReady",function(){t(WebViewJavascriptBridge)},false)};a(function(n){r.deprecated._setBridge(n);x(t,e)})}}else if(c.env.app&&c.env.gomeplus&&c.env.plusWebview){var u=0;var f=setInterval(function(){if(window.AppInterface){x(t,e);clearInterval(f)}if(100==u){x(n,i,new Error("10秒内AppInterface未初始化成功"));clearInterval(f)}u++}.bind(r),100)}else if(c.env.wap&&!c.env.app)if("interactive"==document.readyState||"complete"==document.readyState)x(t,e);else document.addEventListener("DOMContentLoaded",function(){x(t,e)})}))}},{key:"setTitle",value:function e(t,n,r){return Promise.resolve(new Promise(function(e,r){if(c.env.hybrid)if(t)navigator.gome.util.nativeUtils.showTitle(t);x(n,e)}))}},{key:"setShareInfo",value:function e(t,n,r){var i=this;return Promise.resolve(new Promise(function(e,o){i.mixin(t,{type:"button",isShow:"Y",title:"",shareDesc:"",imageUrl:"",link:"",position:"L",method:"goBack"});if(c.env.app){if(c.env.hybrid)if(navigator.userAgent.match(/gomeplus/)){var s={shareDesc:t.shareDesc||"",shareUrl:t.link||"",shareImageUrl:t.imageUrl||"",title:t.title||""};if(c.env.gomeplus&&c.env.plusWebview&&g.default>=30)s.sharePlatform=t.sharePlatform||"0,2,3";navigator.gome.util.nativeUtils.shareLink(s)}else if(t.link&&navigator.gome.util.nativeUtils.shareLink)i.getVersion().then(function(r){if(r>=60)navigator.gome.util.nativeUtils.shareLink({shareDesc:t.shareDesc||"",shareUrl:t.link||"",shareImageUrl:t.imageUrl||"",title:t.title||""});x(n,e)});else x(r,o);else if(c.env.gome||c.env.gomeplus&&!c.env.plusWebview){var a={docObject:[{type:t.type,is_show:t.isShow,title:t.title,share_desc:t.shareDesc,image_url:t.imageUrl,link:t.link,position:t.position,method:t.method}]};if(c.env.gomeplus&&c.env.plusWebview&&g.default>=30)a.docObject[0].sharePlatform=t.sharePlatform||"0,2,3";if(i.system.ios&&window.location.pathname.match(/shop-\d+\.html/))i.deprecated._bridge.send(JSON.stringify(a));else i.deprecated.send(a);x(n,e)}}else x(n,e)}))}},{key:"toast",value:function e(t,n,r){return Promise.resolve(new Promise(function(e,r){if(c.env.hybrid)navigator.gome.util.nativeUtils.showToast(t);else{u.default.emit("toast",t);u.default.emitDOM("toast",t)}setTimeout(function(){x(n,e)},1e3)}))}}]);return t}();t.exports=new P},function(e,t,n){"use strict";n(2);n(22);n(48);n(52);n(68);e.exports=n(21).Map},function(e,t,n){"use strict";var r=n(3),i={};i[n(5)("toStringTag")]="z";if(i+""!="[object z]")n(9)(Object.prototype,"toString",function e(){return"[object "+r(this)+"]"},true)},function(e,t,n){"use strict";var r=n(4),i=n(5)("toStringTag"),o="Arguments"==r(function(){return arguments}());var s=function e(t,n){try{return t[n]}catch(e){}};e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=s(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t){"use strict";var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){"use strict";var r=n(6)("wks"),i=n(8),o=n(7).Symbol,s="function"==typeof o;var a=e.exports=function(e){return r[e]||(r[e]=s&&o[e]||(s?o:i)("Symbol."+e))};a.store=r},function(e,t,n){"use strict";var r=n(7),i="__core-js_shared__",o=r[i]||(r[i]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t){"use strict";var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();if("number"==typeof __g)__g=n},function(e,t){"use strict";var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){"use strict";var r=n(7),i=n(10),o=n(20),s=n(8)("src"),a="toString",u=Function[a],c=(""+u).split(a);n(21).inspectSource=function(e){return u.call(e)};(e.exports=function(e,t,n,a){var u="function"==typeof n;if(u)o(n,"name")||i(n,"name",t);if(e[t]===n)return;if(u)o(n,s)||i(n,s,e[t]?""+e[t]:c.join(String(t)));if(e===r)e[t]=n;else if(!a){delete e[t];i(e,t,n)}else if(e[t])e[t]=n;else i(e,t,n)})(Function.prototype,a,function e(){return"function"==typeof this&&this[s]||u.call(this)})},function(e,t,n){"use strict";var r=n(11),i=n(19);e.exports=n(15)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){e[t]=n;return e}},function(e,t,n){"use strict";var r=n(12),i=n(14),o=n(18),s=Object.defineProperty;t.f=n(15)?Object.defineProperty:function e(t,n,a){r(t);n=o(n,true);r(a);if(i)try{return s(t,n,a)}catch(e){}if("get"in a||"set"in a)throw TypeError("Accessors not supported!");if("value"in a)t[n]=a.value;return t}},function(e,t,n){"use strict";var r=n(13);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){"use strict";var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){return"object"===("undefined"===typeof e?"undefined":n(e))?null!==e:"function"===typeof e}},function(e,t,n){"use strict";e.exports=!n(15)&&!n(16)(function(){return 7!=Object.defineProperty(n(17)("div"),"a",{get:function e(){return 7}}).a})},function(e,t,n){"use strict";e.exports=!n(16)(function(){return 7!=Object.defineProperty({},"a",{get:function e(){return 7}}).a})},function(e,t){"use strict";e.exports=function(e){try{return!!e()}catch(e){return true}}},function(e,t,n){"use strict";var r=n(13),i=n(7).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){"use strict";var r=n(13);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){"use strict";var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){"use strict";var n=e.exports={version:"2.4.0"};if("number"==typeof __e)__e=n},function(e,t,n){"use strict";var r=n(23)(true);n(26)(String,"String",function(e){this._t=String(e);this._i=0},function(){var e=this._t,t=this._i,n;if(t>=e.length)return{value:void 0,done:true};n=r(e,t);this._i+=n.length;return{value:n,done:false}})},function(e,t,n){"use strict";var r=n(24),i=n(25);e.exports=function(e){return function(t,n){var o=String(i(t)),s=r(n),a=o.length,u,c;if(s<0||s>=a)return e?"":void 0;u=o.charCodeAt(s);return u<55296||u>56319||s+1===a||(c=o.charCodeAt(s+1))<56320||c>57343?e?o.charAt(s):u:e?o.slice(s,s+2):(u-55296<<10)+(c-56320)+65536}}},function(e,t){"use strict";var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){"use strict";e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){"use strict";var r=n(27),i=n(28),o=n(9),s=n(10),a=n(20),u=n(31),c=n(32),f=n(45),l=n(46),v=n(5)("iterator"),p=!([].keys&&"next"in[].keys()),d="@@iterator",h="keys",m="values";var g=function e(){return this};e.exports=function(e,t,n,y,w,_,b){c(n,t,y);var x=function e(t){if(!p&&t in S)return S[t];switch(t){case h:return function e(){return new n(this,t)};case m:return function e(){return new n(this,t)}}return function e(){return new n(this,t)}};var O=t+" Iterator",P=w==m,j=false,S=e.prototype,E=S[v]||S[d]||w&&S[w],k=E||x(w),A=w?!P?k:x("entries"):void 0,C="Array"==t?S.entries||E:E,M,I,N;if(C){N=l(C.call(new e));if(N!==Object.prototype){f(N,O,true);if(!r&&!a(N,v))s(N,v,g)}}if(P&&E&&E.name!==m){j=true;k=function e(){return E.call(this)}}if((!r||b)&&(p||j||!S[v]))s(S,v,k);u[t]=k;u[O]=g;if(w){M={values:P?k:x(m),keys:_?k:x(h),entries:A};if(b){for(I in M)if(!(I in S))o(S,I,M[I])}else i(i.P+i.F*(p||j),t,M)}return M}},function(e,t){"use strict";e.exports=false},function(e,t,n){"use strict";var r=n(7),i=n(21),o=n(10),s=n(9),a=n(29),u="prototype";var c=function e(t,n,c){var f=t&e.F,l=t&e.G,v=t&e.S,p=t&e.P,d=t&e.B,h=l?r:v?r[n]||(r[n]={}):(r[n]||{})[u],m=l?i:i[n]||(i[n]={}),g=m[u]||(m[u]={}),y,w,_,b;if(l)c=n;for(y in c){w=!f&&h&&void 0!==h[y];_=(w?h:c)[y];b=d&&w?a(_,r):p&&"function"==typeof _?a(Function.call,_):_;if(h)s(h,y,_,t&e.U);if(m[y]!=_)o(m,y,b);if(p&&g[y]!=_)g[y]=_}};r.core=i;c.F=1;c.G=2;c.S=4;c.P=8;c.B=16;c.W=32;c.U=64;c.R=128;e.exports=c},function(e,t,n){"use strict";var r=n(30);e.exports=function(e,t,n){r(e);if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){"use strict";e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){"use strict";e.exports={}},function(e,t,n){"use strict";var r=n(33),i=n(19),o=n(45),s={};n(10)(s,n(5)("iterator"),function(){return this});e.exports=function(e,t,n){e.prototype=r(s,{next:i(1,n)});o(e,t+" Iterator")}},function(e,t,n){"use strict";var r=n(12),i=n(34),o=n(43),s=n(42)("IE_PROTO"),a=function e(){},u="prototype";var c=function e(){var t=n(17)("iframe"),r=o.length,i="<",s=">",a;t.style.display="none";n(44).appendChild(t);t.src="javascript:";a=t.contentWindow.document;a.open();a.write(i+"script"+s+"document.F=Object"+i+"/script"+s);a.close();c=a.F;while(r--)delete c[u][o[r]];return c()};e.exports=Object.create||function e(t,n){var o;if(null!==t){a[u]=r(t);o=new a;a[u]=null;o[s]=t}else o=c();return void 0===n?o:i(o,n)}},function(e,t,n){"use strict";var r=n(11),i=n(12),o=n(35);e.exports=n(15)?Object.defineProperties:function e(t,n){i(t);var s=o(n),a=s.length,u=0,c;while(a>u)r.f(t,c=s[u++],n[c]);return t}},function(e,t,n){"use strict";var r=n(36),i=n(43);e.exports=Object.keys||function e(t){return r(t,i)}},function(e,t,n){"use strict";var r=n(20),i=n(37),o=n(39)(false),s=n(42)("IE_PROTO");e.exports=function(e,t){var n=i(e),a=0,u=[],c;for(c in n)if(c!=s)r(n,c)&&u.push(c);while(t.length>a)if(r(n,c=t[a++]))~o(u,c)||u.push(c);return u}},function(e,t,n){"use strict";var r=n(38),i=n(25);e.exports=function(e){return r(i(e))}},function(e,t,n){"use strict";var r=n(4);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){"use strict";var r=n(37),i=n(40),o=n(41);e.exports=function(e){return function(t,n,s){var a=r(t),u=i(a.length),c=o(s,u),f;if(e&&n!=n)while(u>c){f=a[c++];if(f!=f)return true}else for(;u>c;c++)if(e||c in a)if(a[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){"use strict";var r=n(24),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){"use strict";var r=n(24),i=Math.max,o=Math.min;e.exports=function(e,t){e=r(e);return e<0?i(e+t,0):o(e,t)}},function(e,t,n){"use strict";var r=n(6)("keys"),i=n(8);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t){"use strict";e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){"use strict";e.exports=n(7).document&&document.documentElement},function(e,t,n){"use strict";var r=n(11).f,i=n(20),o=n(5)("toStringTag");e.exports=function(e,t,n){if(e&&!i(e=n?e:e.prototype,o))r(e,o,{configurable:true,value:t})}},function(e,t,n){"use strict";var r=n(20),i=n(47),o=n(42)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){e=i(e);if(r(e,o))return e[o];if("function"==typeof e.constructor&&e instanceof e.constructor)return e.constructor.prototype;return e instanceof Object?s:null}},function(e,t,n){"use strict";var r=n(25);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";var r=n(49),i=n(9),o=n(7),s=n(10),a=n(31),u=n(5),c=u("iterator"),f=u("toStringTag"),l=a.Array;for(var v=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],p=0;p<5;p++){var d=v[p],h=o[d],m=h&&h.prototype,g;if(m){if(!m[c])s(m,c,l);if(!m[f])s(m,f,d);a[d]=l;for(g in r)if(!m[g])i(m,g,r[g],true)}}},function(e,t,n){"use strict";var r=n(50),i=n(51),o=n(31),s=n(37);e.exports=n(26)(Array,"Array",function(e,t){this._t=s(e);this._i=0;this._k=t},function(){var e=this._t,t=this._k,n=this._i++;if(!e||n>=e.length){this._t=void 0;return i(1)}if("keys"==t)return i(0,n);if("values"==t)return i(0,e[n]);return i(0,[n,e[n]])},"values");o.Arguments=o.Array;r("keys");r("values");r("entries")},function(e,t,n){"use strict";var r=n(5)("unscopables"),i=Array.prototype;if(void 0==i[r])n(10)(i,r,{});e.exports=function(e){i[r][e]=true}},function(e,t){"use strict";e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r=n(53);e.exports=n(62)("Map",function(e){return function t(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function e(t){var n=r.getEntry(this,t);return n&&n.v},set:function e(t,n){return r.def(this,0===t?0:t,n)}},r,true)},function(e,t,n){"use strict";var r=n(11).f,i=n(33),o=n(54),s=n(29),a=n(55),u=n(25),c=n(56),f=n(26),l=n(51),v=n(60),p=n(15),d=n(61).fastKey,h=p?"_s":"size";var m=function e(t,n){var r=d(n),i;if("F"!==r)return t._i[r];for(i=t._f;i;i=i.n)if(i.k==n)return i};e.exports={getConstructor:function e(t,n,f,l){var v=t(function(e,t){a(e,v,n,"_i");e._i=i(null);e._f=void 0;e._l=void 0;e[h]=0;if(void 0!=t)c(t,f,e[l],e)});o(v.prototype,{clear:function e(){for(var t=this,n=t._i,r=t._f;r;r=r.n){r.r=true;if(r.p)r.p=r.p.n=void 0;delete n[r.i]}t._f=t._l=void 0;t[h]=0},delete:function e(t){var n=this,r=m(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i];r.r=true;if(o)o.n=i;if(i)i.p=o;if(n._f==r)n._f=i;if(n._l==r)n._l=o;n[h]--}return!!r},forEach:function e(t){a(this,v,"forEach");var n=s(t,arguments.length>1?arguments[1]:void 0,3),r;while(r=r?r.n:this._f){n(r.v,r.k,this);while(r&&r.r)r=r.p}},has:function e(t){return!!m(this,t)}});if(p)r(v.prototype,"size",{get:function e(){return u(this[h])}});return v},def:function e(t,n,r){var i=m(t,n),o,s;if(i)i.v=r;else{t._l=i={i:s=d(n,true),k:n,v:r,p:o=t._l,n:void 0,r:false};if(!t._f)t._f=i;if(o)o.n=i;t[h]++;if("F"!==s)t._i[s]=i}return t},getEntry:m,setStrong:function e(t,n,r){f(t,n,function(e,t){this._t=e;this._k=t;this._l=void 0},function(){var e=this,t=e._k,n=e._l;while(n&&n.r)n=n.p;if(!e._t||!(e._l=n=n?n.n:e._t._f)){e._t=void 0;return l(1)}if("keys"==t)return l(0,n.k);if("values"==t)return l(0,n.v);return l(0,[n.k,n.v])},r?"entries":"values",!r,true);v(n)}}},function(e,t,n){"use strict";var r=n(9);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t){"use strict";e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){"use strict";var r=n(29),i=n(57),o=n(58),s=n(12),a=n(40),u=n(59),c={},f={};var l=e.exports=function(e,t,n,l,v){var p=v?function(){return e}:u(e),d=r(n,l,t?2:1),h=0,m,g,y,w;if("function"!=typeof p)throw TypeError(e+" is not iterable!");if(o(p))for(m=a(e.length);m>h;h++){w=t?d(s(g=e[h])[0],g[1]):d(e[h]);if(w===c||w===f)return w}else for(y=p.call(e);!(g=y.next()).done;){w=i(y,d,g.value,t);if(w===c||w===f)return w}};l.BREAK=c;l.RETURN=f},function(e,t,n){"use strict";var r=n(12);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e["return"];if(void 0!==o)r(o.call(e));throw t}}},function(e,t,n){"use strict";var r=n(31),i=n(5)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){"use strict";var r=n(3),i=n(5)("iterator"),o=n(31);e.exports=n(21).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){"use strict";var r=n(7),i=n(11),o=n(15),s=n(5)("species");e.exports=function(e){var t=r[e];if(o&&t&&!t[s])i.f(t,s,{configurable:true,get:function e(){return this}})}},function(e,t,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var i=n(8)("meta"),o=n(13),s=n(20),a=n(11).f,u=0;var c=Object.isExtensible||function(){return true};var f=!n(16)(function(){return c(Object.preventExtensions({}))});var l=function e(t){a(t,i,{value:{i:"O"+ ++u,w:{}}})};var v=function e(t,n){if(!o(t))return"symbol"==("undefined"===typeof t?"undefined":r(t))?t:("string"==typeof t?"S":"P")+t;if(!s(t,i)){if(!c(t))return"F";if(!n)return"E";l(t)}return t[i].i};var p=function e(t,n){if(!s(t,i)){if(!c(t))return true;if(!n)return false;l(t)}return t[i].w};var d=function e(t){if(f&&h.NEED&&c(t)&&!s(t,i))l(t);return t};var h=e.exports={KEY:i,NEED:false,fastKey:v,getWeak:p,onFreeze:d}},function(e,t,n){"use strict";var r=n(7),i=n(28),o=n(9),s=n(54),a=n(61),u=n(56),c=n(55),f=n(13),l=n(16),v=n(63),p=n(45),d=n(64);e.exports=function(e,t,n,h,m,g){var y=r[e],w=y,_=m?"set":"add",b=w&&w.prototype,x={};var O=function e(t){var n=b[t];o(b,t,"delete"==t?function(e){return g&&!f(e)?false:n.call(this,0===e?0:e)}:"has"==t?function e(t){return g&&!f(t)?false:n.call(this,0===t?0:t)}:"get"==t?function e(t){return g&&!f(t)?void 0:n.call(this,0===t?0:t)}:"add"==t?function e(t){n.call(this,0===t?0:t);return this}:function e(t,r){n.call(this,0===t?0:t,r);return this})};if("function"!=typeof w||!(g||b.forEach&&!l(function(){(new w).entries().next()}))){w=h.getConstructor(t,e,m,_);s(w.prototype,n);a.NEED=true}else{var P=new w,j=P[_](g?{}:-0,1)!=P,S=l(function(){P.has(1)}),E=v(function(e){new w(e)}),k=!g&&l(function(){var e=new w,t=5;while(t--)e[_](t,t);return!e.has(-0)});if(!E){w=t(function(t,n){c(t,w,e);var r=d(new y,t,w);if(void 0!=n)u(n,m,r[_],r);return r});w.prototype=b;b.constructor=w}if(S||k){O("delete");O("has");m&&O("get")}if(k||j)O(_);if(g&&b.clear)delete b.clear}p(w,e);x[e]=w;i(i.G+i.W+i.F*(w!=y),x);if(!g)h.setStrong(w,e,m);return w}},function(e,t,n){"use strict";var r=n(5)("iterator"),i=false;try{var o=[7][r]();o["return"]=function(){i=true};Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return false;var n=false;try{var o=[7],s=o[r]();s.next=function(){return{done:n=true}};o[r]=function(){return s};e(o)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(13),i=n(65).set;e.exports=function(e,t,n){var o,s=t.constructor;if(s!==n&&"function"==typeof s&&(o=s.prototype)!==n.prototype&&r(o)&&i)i(e,o);return e}},function(e,t,n){"use strict";var r=n(13),i=n(12);var o=function e(t,n){i(t);if(!r(n)&&null!==n)throw TypeError(n+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n(29)(Function.call,n(66).f(Object.prototype,"__proto__").set,2);r(e,[]);t=!(e instanceof Array)}catch(e){t=true}return function e(n,i){o(n,i);if(t)n.__proto__=i;else r(n,i);return n}}({},false):void 0),check:o}},function(e,t,n){"use strict";var r=n(67),i=n(19),o=n(37),s=n(18),a=n(20),u=n(14),c=Object.getOwnPropertyDescriptor;t.f=n(15)?c:function e(t,n){t=o(t);n=s(n,true);if(u)try{return c(t,n)}catch(e){}if(a(t,n))return i(!r.f.call(t,n),t[n])}},function(e,t){"use strict";t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";var r=n(28);r(r.P+r.R,"Map",{toJSON:n(69)("Map")})},function(e,t,n){"use strict";var r=n(3),i=n(70);e.exports=function(e){return function t(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,n){"use strict";var r=n(56);e.exports=function(e,t){var n=[];r(e,false,n.push,n,t);return n}},function(e,t,n){"use strict";n(2);n(22);n(48);n(72);e.exports=n(21).Promise},function(e,t,n){"use strict";var r=n(27),i=n(7),o=n(29),s=n(3),a=n(28),u=n(13),c=n(30),f=n(55),l=n(56),v=n(73),p=n(74).set,d=n(76)(),h="Promise",m=i.TypeError,g=i.process,y=i[h],g=i.process,w="process"==s(g),_=function e(){},b,x,O;var P=!!function(){try{var e=y.resolve(1),t=(e.constructor={})[n(5)("species")]=function(e){e(_,_)};return(w||"function"==typeof PromiseRejectionEvent)&&e.then(_)instanceof t}catch(e){}}();var j=function e(t,n){return t===n||t===y&&n===O};var S=function e(t){var n;return u(t)&&"function"==typeof(n=t.then)?n:false};var E=function e(t){return j(y,t)?new k(t):new x(t)};var k=x=function e(t){var n,r;this.promise=new t(function(e,t){if(void 0!==n||void 0!==r)throw m("Bad Promise constructor");n=e;r=t});this.resolve=c(n);this.reject=c(r)};var A=function e(t){try{t()}catch(e){return{error:e}}};var C=function e(t,n){if(t._n)return;t._n=true;var r=t._c;d(function(){var e=t._v,i=1==t._s,o=0;var s=function n(r){var o=i?r.ok:r.fail,s=r.resolve,a=r.reject,u=r.domain,c,f;try{if(o){if(!i){if(2==t._h)N(t);t._h=1}if(true===o)c=e;else{if(u)u.enter();c=o(e);if(u)u.exit()}if(c===r.promise)a(m("Promise-chain cycle"));else if(f=S(c))f.call(c,s,a);else s(c)}else a(e)}catch(e){a(e)}};while(r.length>o)s(r[o++]);t._c=[];t._n=false;if(n&&!t._h)M(t)})};var M=function e(t){p.call(i,function(){var e=t._v,n,r,o;if(I(t)){n=A(function(){if(w)g.emit("unhandledRejection",e,t);else if(r=i.onunhandledrejection)r({promise:t,reason:e});else if((o=i.console)&&o.error)o.error("Unhandled promise rejection",e)});t._h=w||I(t)?2:1}t._a=void 0;if(n)throw n.error})};var I=function e(t){if(1==t._h)return false;var n=t._a||t._c,r=0,i;while(n.length>r){i=n[r++];if(i.fail||!e(i.promise))return false}return true};var N=function e(t){p.call(i,function(){var e;if(w)g.emit("rejectionHandled",t);else if(e=i.onrejectionhandled)e({promise:t,reason:t._v})})};var T=function e(t){var n=this;if(n._d)return;n._d=true;n=n._w||n;n._v=t;n._s=2;if(!n._a)n._a=n._c.slice();C(n,true)};var D=function e(t){var n=this,r;if(n._d)return;n._d=true;n=n._w||n;try{if(n===t)throw m("Promise can't be resolved itself");if(r=S(t))d(function(){var i={_w:n,_d:false};try{r.call(t,o(e,i,1),o(T,i,1))}catch(e){T.call(i,e)}});else{n._v=t;n._s=1;C(n,false)}}catch(e){T.call({_w:n,_d:false},e)}};if(!P){y=function e(t){f(this,y,h,"_h");c(t);b.call(this);try{t(o(D,this,1),o(T,this,1))}catch(e){T.call(this,e)}};b=function e(t){this._c=[];this._a=void 0;this._s=0;this._d=false;this._v=void 0;this._h=0;this._n=false};b.prototype=n(54)(y.prototype,{then:function e(t,n){var r=E(v(this,y));r.ok="function"==typeof t?t:true;r.fail="function"==typeof n&&n;r.domain=w?g.domain:void 0;this._c.push(r);if(this._a)this._a.push(r);if(this._s)C(this,false);return r.promise},catch:function e(t){return this.then(void 0,t)}});k=function e(){var t=new b;this.promise=t;this.resolve=o(D,t,1);this.reject=o(T,t,1)}}a(a.G+a.W+a.F*!P,{Promise:y});n(45)(y,h);n(60)(h);O=n(21)[h];a(a.S+a.F*!P,h,{reject:function e(t){var n=E(this),r=n.reject;r(t);return n.promise}});a(a.S+a.F*(r||!P),h,{resolve:function e(t){if(t instanceof y&&j(t.constructor,this))return t;var n=E(this),r=n.resolve;r(t);return n.promise}});a(a.S+a.F*!(P&&n(63)(function(e){y.all(e)["catch"](_)})),h,{all:function e(t){var n=this,r=E(n),i=r.resolve,o=r.reject;var s=A(function(){var e=[],r=0,s=1;l(t,false,function(t){var a=r++,u=false;e.push(void 0);s++;n.resolve(t).then(function(t){if(u)return;u=true;e[a]=t;--s||i(e)},o)});--s||i(e)});if(s)o(s.error);return r.promise},race:function e(t){var n=this,r=E(n),i=r.reject;var o=A(function(){l(t,false,function(e){
n.resolve(e).then(r.resolve,i)})});if(o)i(o.error);return r.promise}})},function(e,t,n){"use strict";var r=n(12),i=n(30),o=n(5)("species");e.exports=function(e,t){var n=r(e).constructor,s;return void 0===n||void 0==(s=r(n)[o])?t:i(s)}},function(e,t,n){"use strict";var r=n(29),i=n(75),o=n(44),s=n(17),a=n(7),u=a.process,c=a.setImmediate,f=a.clearImmediate,l=a.MessageChannel,v=0,p={},d="onreadystatechange",h,m,g;var y=function e(){var t=+this;if(p.hasOwnProperty(t)){var n=p[t];delete p[t];n()}};var w=function e(t){y.call(t.data)};if(!c||!f){c=function e(t){var n=[],r=1;while(arguments.length>r)n.push(arguments[r++]);p[++v]=function(){i("function"==typeof t?t:Function(t),n)};h(v);return v};f=function e(t){delete p[t]};if("process"==n(4)(u))h=function e(t){u.nextTick(r(y,t,1))};else if(l){m=new l;g=m.port2;m.port1.onmessage=w;h=r(g.postMessage,g,1)}else if(a.addEventListener&&"function"==typeof postMessage&&!a.importScripts){h=function e(t){a.postMessage(t+"","*")};a.addEventListener("message",w,false)}else if(d in s("script"))h=function e(t){o.appendChild(s("script"))[d]=function(){o.removeChild(this);y.call(t)}};else h=function e(t){setTimeout(r(y,t,1),0)}}e.exports={set:c,clear:f}},function(e,t){"use strict";e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){"use strict";var r=n(7),i=n(74).set,o=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,u="process"==n(4)(s);e.exports=function(){var e,t,n;var c=function r(){var i,o;if(u&&(i=s.domain))i.exit();while(e){o=e.fn;e=e.next;try{o()}catch(r){if(e)n();else t=void 0;throw r}}t=void 0;if(i)i.enter()};if(u)n=function e(){s.nextTick(c)};else if(o){var f=true,l=document.createTextNode("");new o(c).observe(l,{characterData:true});n=function e(){l.data=f=!f}}else if(a&&a.resolve){var v=a.resolve();n=function e(){v.then(c)}}else n=function e(){i.call(r,c)};return function(r){var i={fn:r,next:void 0};if(t)t.next=i;if(!e){e=i;n()}t=i}}},function(e,t){"use strict";var n="2.1.9";var r;var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var o=function(e){var t={};for(var n=0,r=e.length;n<r;n++)t[e.charAt(n)]=n;return t}(i);var s=String.fromCharCode;var a=function e(t){if(t.length<2){var n=t.charCodeAt(0);return n<128?t:n<2048?s(192|n>>>6)+s(128|63&n):s(224|n>>>12&15)+s(128|n>>>6&63)+s(128|63&n)}else{var n=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return s(240|n>>>18&7)+s(128|n>>>12&63)+s(128|n>>>6&63)+s(128|63&n)}};var u=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g;var c=function e(t){return t.replace(u,a)};var f=function e(t){var n=[0,2,1][t.length%3],r=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0),o=[i.charAt(r>>>18),i.charAt(r>>>12&63),n>=2?"=":i.charAt(r>>>6&63),n>=1?"=":i.charAt(63&r)];return o.join("")};var l=function e(t){return t.replace(/[\s\S]{1,3}/g,f)};var v=r?function(e){return(e.constructor===r.constructor?e:new r(e)).toString("base64")}:function(e){return l(c(e))};var p=function e(t,n){return!n?v(String(t)):v(String(t)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,"")};var d=function e(t){return p(t,true)};var h=new RegExp([decodeURI("%5B%C3%80-%C3%9F%5D%5B%C2%80-%C2%BF%5D"),decodeURI("%5B%C3%80-%C3%9F%5D%5B%C2%80-%C2%BF%5D")+"{2}",decodeURI("%5B%C3%80-%C3%9F%5D%5B%C2%80-%C2%BF%5D")+"{3}"].join("|"),"g");var m=function e(t){switch(t.length){case 4:var n=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),r=n-65536;return s((r>>>10)+55296)+s((1023&r)+56320);case 3:return s((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return s((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}};var g=function e(t){return t.replace(h,m)};var y=function e(t){var n=t.length,r=n%4,i=(n>0?o[t.charAt(0)]<<18:0)|(n>1?o[t.charAt(1)]<<12:0)|(n>2?o[t.charAt(2)]<<6:0)|(n>3?o[t.charAt(3)]:0),a=[s(i>>>16),s(i>>>8&255),s(255&i)];a.length-=[0,0,2,1][r];return a.join("")};var w=function e(t){return t.replace(/[\s\S]{1,4}/g,y)};var _=r?function(e){return(e.constructor===r.constructor?e:new r(e,"base64")).toString()}:function(e){return g(w(e))};var b=function e(t){return _(String(t).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))};e.exports={VERSION:n,atob:w,btoa:l,fromBase64:b,toBase64:p,utob:c,encode:p,encodeURI:d,btou:g,decode:b};if("function"===typeof Object.defineProperty){var x=function e(t){return{value:t,enumerable:false,writable:true,configurable:true}};e.exports.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",x(function(){return b(this)}));Object.defineProperty(String.prototype,"toBase64",x(function(e){return p(this,e)}));Object.defineProperty(String.prototype,"toBase64URI",x(function(){return p(this,true)}))}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(){r(this,e);if(!window["__eventBusgetInstance"]){window["__eventBusgetInstance"]=this;this.cid=0;this.msgMap=new Map}}n(e,[{key:"getInstance",value:function e(){return window["__eventBusgetInstance"]}},{key:"getCid",value:function e(){this.getInstance().cid++;return this.getInstance().cid}},{key:"emitDOM",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:false;var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:false;var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window;var s=document.createEvent("HTMLEvents");s.data=n;s.initEvent(t,r,i);o.dispatchEvent(s)}},{key:"emit",value:function e(t,n,r){if(this.getInstance().msgMap.has(t))this.getInstance().msgMap.get(t).forEach(function(e){if(r&&e.instance){if(e.instance===r)if(e.__once&&!e.__emitted){e.__emitted=true;e(n)}else e(n)}else if(e.__once&&!e.__emitted){e.__emitted=true;e(n)}else e(n)})}},{key:"on",value:function e(t,n,r,i){if(!n)n=new Function;n.cid=this.getCid();n.nid=i;n.instance=r;if(!this.getInstance().msgMap.has(t))this.getInstance().msgMap.set(t,new Set([n]));else this.getInstance().msgMap.get(t).add(n)}},{key:"only",value:function e(t,n,r,i){if(this.getInstance().msgMap.has(t))this.getInstance().msgMap.delete(t);this.on(t,n,r,i)}},{key:"once",value:function e(t,n,r,i){n.__once=true;n.__emitted=false;this.on(t,n,r,i)}},{key:"off",value:function e(t,n){if(this.getInstance().msgMap.has(t)){var r=this.getInstance().msgMap.get(t);if(!!n&&"function"===typeof n)r.forEach(function(e){if(!!n.cid&&n.cid===e.cid)r.delete(e)});else if(!!n&&"string"===typeof n){var i=n;r.forEach(function(e){if(i===e.nid)r.delete(e)})}else this.getInstance().msgMap.delete(t)}}}]);return e}();t.default=new i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n={wap:false,app:false,hybrid:false,wechat:false,gome:false,gomeplus:false,plusWebview:false,dev:false,live:false,uat:false,tslive:false,unknown:false};if(window.navigator.userAgent.match(/dev/)){n.dev=true;n.hybrid=true}if(window.location.host.match(/gome\.com\.cn|gomeplus\.com/))n.live=true;else if(window.location.host.match(/uat.*\.com/))n.uat=true;else if(window.location.host.match(/tslive\.com\.cn/))n.tslive=true;else n.unknown=true;if(window.location.host.match(/gome\.com\.cn|atguat\.com\.cn/))n.gome=true;else if(window.location.host.match(/gomeplus\.com|uatplus\.com/))n.gomeplus=true;if(window.location.href.match(/^file\:\/\//)||n.dev){n.app=true;n.hybrid=true}if(window.navigator.userAgent.match(/gome/)){n.app=true;if(window.navigator.userAgent.match(/gomeplus/)){n.gomeplus=true;n.gome=false;if(window.navigator.userAgent.match(/\/(plus$|plus[^_])/))n.plusWebview=true}else{n.gomeplus=false;n.gome=true}}else if(window.navigator.userAgent.match(/MicroMessenger/i)){n.wechat=true;n.wap=true}else n.wap=true;if(window.location.href.match(/^http/))n.wap=true;var r={android:false,ios:false};if(window.navigator.userAgent.match(/android/i))r.android=true;else if(window.navigator.userAgent.match(/iPhone|iPad/i))r.ios=true;if(n.unknown&&window.PackConfig){n[PackConfig.PLATFORM.toLowerCase()]=true;n[PackConfig.ENV.toLowerCase()]=true}if(window.GomeBridgePreConfig&&window.GomeBridgePreConfig.env)for(var i in GomeBridgePreConfig.env)n[i]=GomeBridgePreConfig.env[i];t.env=n;t.system=r;t.default={env:n,system:r}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(){r(this,e)}n(e,[{key:"parse",value:function e(){try{var t=document.cookie.split(";");var n={};t.forEach(function(e){n[e.split("=")[0].trim()]=e.split("=")[1].trim()});return n}catch(e){return{}}}},{key:"set",value:function e(t,n,r,i){var o=null==r?"":";expires="+new Date((new Date).getTime()+Number(r)).toGMTString();i=!i?"":";domain="+i;document.cookie=t+"="+escape(n)+i+o+";path=/"}}]);return e}();t.default=new i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(){r(this,e)}n(e,[{key:"parse",value:function e(t){t=t.replace(/^\?/,"");var n=t.split(/&/);var r={};for(var i=0;i<n.length;i++){var o=n[i].split(/\=/);r[o[0]]=o[1]}return r}},{key:"queryify",value:function e(t,n){n=n||"?";var r=n;for(var i in t)r+=i+"="+t[i]+"&";return r.replace(/\&$/,"")}}]);return e}();t.default=new i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=function(e,t,n){e=c(e,{url:"",type:"get",data:"",isNeedLoading:"Y",isPostBody:"N"});if(!r.env.hybrid&&!e.url.match(window.location.host))e.type="jsonp";return Promise.resolve(new Promise(function(i,s){if(r.env.hybrid&&!e.type.match(/jsonp/i)){e.type=e.type.toUpperCase();var u=c(e,{param:e.data,isNeedLoading:"Y",isPostBody:"N"});delete u["data"];navigator.gome.util.nativeRequest.sendNativeRequest(function(e){e="string"===typeof e?JSON.parse(e):e;f(t,i,e)},function(e){try{e="string"===typeof e?JSON.parse(e):e;f(n,s,new Error(e.failReason||"网络请求失败"))}catch(e){s(new Error("网络请求失败"));f(n,s,new Error("网络请求失败"))}},u)}else if(e.type.match(/jsonp/i)){if("Y"==e.isNeedLoading){o.default.emit("loading.lazy");o.default.emitDOM("loading")}if(!e.isPostBody||"N"==e.isPostBody){var v=encodeURI(JSON.stringify(e.data));var p=document.createElement("script");p.setAttribute("defer","defer");p.setAttribute("async","async");p.src=e.url+"?bust="+(new Date).getTime()+"&body="+v+"&callback="+(e.cb||"jsonp"+l)}else{var v="";for(var d in e.data)v+="&"+d+"="+e.data[d];var p=document.createElement("script");p.setAttribute("defer","defer");p.setAttribute("async","async");p.src=e.url+"?bust="+(new Date).getTime()+v+"&callback="+(e.cb||"jsonp"+l)}var h=false;var m=false;var g=function e(r){if(m)return;h=true;r="string"==typeof r?r.replace(/\n/g,""):r;try{r="string"==typeof r?JSON.parse(r):r;o.default.emit("loaded");o.default.emitDOM("loaded");f(t,i,r)}catch(e){o.default.emit("loaded");o.default.emitDOM("loaded");f(n,s,r)}};window[e.cb||"jsonp"+l]=g;setTimeout(function(){if(h||m)return;m=true;o.default.emit("loaded");o.default.emitDOM("loaded");f(n,s,new Error("JSONP Error"))},e.timeout||2e4);p.onerror=function(){if(h||m)return;m=true;o.default.emit("loaded");o.default.emitDOM("loaded");f(n,s,new Error("JSONP Error"))};l++;document.body.appendChild(p)}else{var y=new window.XMLHttpRequest;if(e.type.match(/get/i))e.url=e.url+a.default.queryify(e.data);y.open(e.type,e.url,true);o.default.emit("loading.lazy");o.default.emitDOM("loading");y.setRequestHeader("Accept","*/*");y.setRequestHeader("X-Requested-With","XMLHttpRequest");if(e.type.match(/get/i))y.send(null);else if(e.type.match(/post/i)){var w="";for(var _ in e.data)w+=encodeURIComponent(_)+"="+encodeURIComponent(e.data[_])+"&";if(w)w=w.replace(/\&$/,"");else w=null;y.setRequestHeader("Content-Type","application/x-www-form-urlencoded");y.send(w)}y.onreadystatechange=function(){var e=void 0;if(4==y.readyState)if(4==y.readyState){y.onreadystatechange=function(){};if(y.status>=200&&y.status<300||304==y.status||0==y.status&&"file:"==window.location.protocol){if("arraybuffer"==y.responseType||"blob"==y.responseType)e=y.response;else e=y.responseText;try{var r=JSON.parse(e);o.default.emit("loaded");o.default.emitDOM("loaded");f(t,i,r)}catch(n){o.default.emit("loaded");o.default.emitDOM("loaded");f(t,i,e)}}else{o.default.emit("loaded");o.default.emitDOM("loaded");f(n,s,new Error("网络请求失败"))}}else f(n,s,new Error("网络请求失败"))}}}))};var r=n(79);var i=n(78);var o=u(i);var s=n(81);var a=u(s);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var n in t)if("undefined"==typeof e[n])e[n]=t[n];return e}function f(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e)e.apply(void 0,r);if(t)t.apply(void 0,r)}var l=0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(79);var i=-1;if(r.system.android&&navigator.userAgent.match(/gome/))i=navigator.userAgent.match(/gome[plus]{0,4}\/[iphone\/]{0,7}(\d*)/)[1];else if(r.system.ios&&navigator.userAgent.match(/gome/))i=navigator.userAgent.match(/gome[plus]{0,4}\/[iphone\/]{0,7}(\d*)/)[1];t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.host=void 0;var r=n(79);var i=n(83);var o=s(i);function s(e){return e&&e.__esModule?e:{default:e}}var a={};Object.defineProperty(a,"__root",{get:function e(){var t="";if(r.env.hybrid)if(r.env.gome)if(r.env.live)t="gome.com.cn";else if(r.env.uat)t="atguat.com.cn";else if(r.env.tslive)t="tslive.com.cn";else t="gome.com.cn";else if(r.env.live)t="gomeplus.com";else if(r.env.uat)t="uatplus.com";else if(r.env.tslive)t="tsliveplus.com";else t="gomeplus.com";else if(location.href.match(/gome\.com\.cn|atguat/))if(r.env.live)t="gome.com.cn";else if(r.env.uat)t="atguat.com.cn";else if(r.env.tslive)t="tslive.com.cn";else t="gome.com.cn";else if(r.env.live)t="gomeplus.com";else if(r.env.uat)t="uatplus.com";else if(r.env.tslive)t="tsliveplus.com";else t="gomeplus.com";return"m."+t}});var u="";if(r.env.hybrid)if(r.env.gome&&r.system.ios&&o.default>=75)u="https:";else if(r.env.gomeplus&&r.system.ios)u="https:";else u="http:";a.m=u+"//"+a.__root;a.prom=u+"//prom."+a.__root;a.jr=u+"//jr."+a.__root;a.hd=u+"//hd."+a.__root;a.v=u+"//v."+a.__root;a.tuan=u+"//tuan."+a.__root;a.u=u+"//u."+a.__root;a.item=u+"//item."+a.__root;a.q=u+"//q."+a.__root;a.cart=u+"//cart."+a.__root;a.pt=u+"//pt."+a.__root;a.protocal=u;t.host=a;t.default=a}])});
